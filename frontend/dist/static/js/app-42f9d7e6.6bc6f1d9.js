"use strict";(self["webpackChunkeshop_site"]=self["webpackChunkeshop_site"]||[]).push([[282],{17541:function(e,t,a){var s=a(45130),n=a(56768);const o={id:"app"},i={class:"main-content"};function c(e,t,a,s,c,l){const r=(0,n.g2)("NotificationComponent"),u=(0,n.g2)("MainHeader"),d=(0,n.g2)("router-view"),p=(0,n.g2)("MainFooter");return(0,n.uX)(),(0,n.CE)(n.FK,null,[t[0]||(t[0]=(0,n.Lk)("div",{class:"marquee"},[(0,n.Lk)("span",null,"2024.09.01，注意！本公司不會主動通知帳務問題，若有相關疑問請洽客服！小心詐騙！")],-1)),(0,n.Lk)("div",o,[(0,n.bF)(r),(0,n.bF)(u),(0,n.Lk)("div",i,[(0,n.bF)(d)]),(0,n.bF)(p)])],64)}var l=a(24232);const r={class:"header-container"},u={class:"headerbar d-flex align-items-center"},d={key:0,class:"nav-toggle-wrapper d-flex align-items-center ms-2"},p={class:"nav-content d-flex w-100 align-items-center justify-content-between"},h=["to"],g={class:"search-container d-flex mx-lg-3"},v={class:"search-input-wrapper"},m={class:"cartmember d-flex"},k={key:0,class:"cart-item"},f={class:"text-link"};function b(e,t,a,o,i,c){const b=(0,n.g2)("BNavbarToggle"),C=(0,n.g2)("router-link"),L=(0,n.g2)("BNavbarNav"),N=(0,n.g2)("BFormInput"),_=(0,n.g2)("BButton"),x=(0,n.g2)("BCollapse"),F=(0,n.g2)("BContainer"),w=(0,n.g2)("BNavbar");return(0,n.uX)(),(0,n.CE)("div",r,[(0,n.bF)(w,{toggleable:"lg",type:"light",variant:"light",class:"navbar-overlay px-0"},{default:(0,n.k6)((()=>[(0,n.bF)(F,{fluid:""},{default:(0,n.k6)((()=>[(0,n.Lk)("div",u,[(0,n.bF)(b,{onClick:c.toggleNav},null,8,["onClick"]),i.isNavOpen?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",d,[(0,n.Lk)("img",{src:"http://localhost:5002/api/static/img/arrowleft.png",alt:"導航提示",class:"nav-toggle-image",onClick:t[0]||(t[0]=(...e)=>c.toggleNav&&c.toggleNav(...e))}),t[4]||(t[4]=(0,n.Lk)("span",{class:"nav-toggle-text ms-1"},"請點選此處開啟導航欄",-1))]))]),(0,n.bF)(x,{id:"nav-collapse",modelValue:i.isNavOpen,"onUpdate:modelValue":t[3]||(t[3]=e=>i.isNavOpen=e),"is-nav":""},{default:(0,n.k6)((()=>[(0,n.Lk)("div",p,[(0,n.bF)(L,{class:"nav-links me-lg-3"},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.navItems,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.path,to:e.path,class:"nav-item-container"},[(0,n.bF)(C,{to:e.path,class:"nav-link-text",onClick:c.closeNav},{default:(0,n.k6)((()=>[(0,n.eW)((0,l.v_)(e.text),1)])),_:2},1032,["to","onClick"])],8,h)))),128))])),_:1}),(0,n.Lk)("div",g,[(0,n.Lk)("div",v,[(0,n.bF)(N,{type:"text",modelValue:i.searchQuery,"onUpdate:modelValue":t[1]||(t[1]=e=>i.searchQuery=e),class:"search-box",placeholder:"請輸入想找的商品搜尋",onKeyup:(0,s.jR)(c.handleSearch,["enter"])},null,8,["modelValue","onKeyup"]),(0,n.bF)(_,{class:"search-button btn btn-primary ms-2",onClick:c.handleSearch},{default:(0,n.k6)((()=>t[5]||(t[5]=[(0,n.eW)("搜尋")]))),_:1},8,["onClick"])])]),(0,n.Lk)("div",m,[(0,n.bF)(C,{class:"cart-item me-3",to:"/ShopCart",onClick:c.closeNav},{default:(0,n.k6)((()=>t[6]||(t[6]=[(0,n.Lk)("img",{src:"/img/shopping_cart.png",alt:"購物車",class:"icon-img"},null,-1),(0,n.Lk)("span",{class:"text-link"},"購物車",-1)]))),_:1},8,["onClick"]),c.isLoggedIn?((0,n.uX)(),(0,n.CE)("div",k,[(0,n.Lk)("span",f,"歡迎 "+(0,l.v_)(c.userName),1),(0,n.Lk)("button",{class:"btn btn-link",onClick:t[2]||(t[2]=(...e)=>c.logout&&c.logout(...e))},"會員登出")])):((0,n.uX)(),(0,n.Wv)(C,{key:1,class:"cart-item",to:"/UserLogin",onClick:c.closeNav},{default:(0,n.k6)((()=>t[7]||(t[7]=[(0,n.Lk)("img",{src:"/img/member_login.png",alt:"會員登入",class:"icon-img"},null,-1),(0,n.Lk)("span",{class:"text-link"},"會員登入",-1)]))),_:1},8,["onClick"]))])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])}a(44114);var C={name:"MainHeader",data(){return{searchQuery:"",isNavOpen:window.innerWidth<992,navItems:[{path:"/",text:"首頁"},{path:"/MembersPage",text:"會員中心"},{path:"/ProductsList",text:"產品列表"},{path:"/AboutUsPage",text:"關於我們"},{path:"/ContactUs",text:"聯絡我們"},{path:"/admin",text:"後台"}]}},computed:{isLoggedIn(){return this.$store.state.auth.isLoggedIn},userName(){return this.$store.state.auth.user?this.$store.state.auth.user.name:""}},methods:{handleSearch(){""!==this.searchQuery.trim()&&(this.$router.push({path:"/ProductsList",query:{search:this.searchQuery.trim()}}),this.closeNav())},toggleNav(){this.isNavOpen=!this.isNavOpen},closeNav(){window.innerWidth<992&&(this.isNavOpen=!1)},checkScreenSize(){window.innerWidth>=992?this.isNavOpen=!0:this.isNavOpen=!1},handleResize(){this.checkScreenSize()},logout(){this.$store.dispatch("auth/logout"),this.$router.push({path:"/"})}},mounted(){this.checkScreenSize(),window.addEventListener("resize",this.handleResize)},beforeUnmount(){window.removeEventListener("resize",this.handleResize)},watch:{$route(){this.closeNav()}}},L=a(71241);const N=(0,L.A)(C,[["render",b],["__scopeId","data-v-39a70d99"]]);var _=N;const x={class:"footer d-flex flex-column"};function F(e,t,a,s,o,i){return(0,n.uX)(),(0,n.CE)("div",x,t[0]||(t[0]=[(0,n.Lk)("div",{class:"flex-grow-1"},[(0,n.Lk)("p",null,[(0,n.eW)("台灣ECshop.com有限公司"),(0,n.Lk)("br"),(0,n.eW)(" 統編 99999999"),(0,n.Lk)("br"),(0,n.eW)(" Copyright 2024, ECSHOP Group.")])],-1)]))}var w={name:"MainFooter"};const y=(0,L.A)(w,[["render",F],["__scopeId","data-v-499e5536"]]);var I=y;const E={class:"notifications-container"},A=["onClick"],S={class:"message"},B=["onClick"];function W(e,t,a,o,i,c){return(0,n.uX)(),(0,n.CE)("div",E,[(0,n.bF)(s.F,{name:"notification"},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.notifications,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:(0,l.C4)(["notification",`notification-${e.type}`]),onClick:t=>o.closeNotification(e.id)},[(0,n.Lk)("span",S,(0,l.v_)(e.message),1),(0,n.Lk)("button",{class:"close-btn",onClick:(0,s.D$)((t=>o.closeNotification(e.id)),["stop"])},"×",8,B)],10,A)))),128))])),_:1})])}var X=a(4249),O={name:"NotificationComponent",setup(){const e=(0,X.Pj)(),t=(0,n.EW)((()=>e.state.notifications.notifications)),a=t=>{e.dispatch("notifications/removeNotification",t)};return{notifications:t,closeNotification:a}}};const P=(0,L.A)(O,[["render",W],["__scopeId","data-v-c8dde580"]]);var $=P,U={name:"App",components:{MainHeader:_,MainFooter:I,NotificationComponent:$},setup(){const e=(0,X.Pj)(),t=(0,n.EW)((()=>e.getters["auth/isLoggedIn"]));return{isLoggedIn:t}}};const z=(0,L.A)(U,[["render",c],["__scopeId","data-v-2873ea48"]]);var M=z,R=a(91608),Q=(a(4188),a(30323),a(94578)),V=a(88047),K=a(62742),j=a(8029),H=a(35720);a(74300);const q=(0,s.Ef)(M);q.config.globalProperties.$axios=H.A,q.use(K.A),q.use(j.A),q.use(R.A),q.use(V.Ay),console.log("API Base URL:","https://34.169.83.101/api"),console.log("Carousel Image Base URL:","https://34.169.83.101/api/img/carouselImages"),console.log("Product Image Base URL:","https://34.169.83.101/api/img/products"),q.directive("tooltip",{mounted(e){new Q.m_(e)},unmounted(e){const t=Q.m_.getInstance(e);t&&t.dispose()}}),j.A.dispatch("auth/checkAuthStatus").then((()=>{q.mount("#app")})).catch((e=>{console.error("認證狀態檢查失敗:",e),q.mount("#app")}))}}]);